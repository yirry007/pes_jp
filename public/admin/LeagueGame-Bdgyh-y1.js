import{h as x,r as c,j as e,I as T,V as v,T as z,U as r,S as h}from"./index-C9q2FBSY.js";import{S as G}from"./SearchForm--fHSw7Ey.js";import{l as j}from"./league-CZlIo5rl.js";import{d as N}from"./index-CxR-IuS2.js";import{T as b}from"./Timeline-B-KUMHeq.js";import{T as F}from"./index-BQCSfmgw.js";import{F as L,D as A}from"./index-BhUjsVSm.js";import{C}from"./index-pw3sry7n.js";import{A as g}from"./index-9rTpl9La.js";import{T as f}from"./index-CTwM5QEi.js";import{T as V}from"./index-CXwXhMOH.js";import"./useIcons-B3ELihdy.js";function M(){const{Title:y,Text:m}=V,[n]=x.useForm(),[w,_]=c.useState([]),[i,u]=c.useState({});c.useEffect(()=>{o()},[]);const o=async t=>{const s=await j.getLeagueGames(t);_(s);const a={};s.forEach(d=>{d.games.forEach(p=>{a[p.id]=p.status})}),u(a)},S=()=>{o({...n.getFieldsValue()})},l=async t=>{await j.updateLeagueGame(t)};return e.jsxs("div",{children:[e.jsx(G,{form:n,submit:S,reset:()=>{n.resetFields(),o()},children:e.jsx(x.Item,{name:"name",label:"联赛名称",children:e.jsx(T,{placeholder:"请输入联赛名称"})})}),e.jsxs("div",{className:"base-table",children:[e.jsx("div",{className:"header-wrapper",children:e.jsx("div",{className:"title",children:"联赛赛程"})}),e.jsx(b,{style:{padding:"20px"},items:w.map(t=>({children:e.jsxs(e.Fragment,{children:[e.jsx(F,{color:"success",children:t.date}),e.jsx(L,{wrap:!0,gap:"middle",style:{marginTop:"12px"},children:t.games.map(s=>e.jsx(C,{size:"small",title:e.jsx(A,{disabled:i[s.id]===1,allowClear:!1,size:"small",showTime:!0,defaultValue:N(s.game_time),onChange:(a,d)=>l({id:s.id,game_time:d})}),extra:e.jsx(v,{size:"small",defaultValue:s.status===1,onChange:a=>{u({...i,[s.id]:a?1:0}),l({id:s.id,status:a?1:0})}}),style:{width:300},children:e.jsxs(z,{gutter:8,children:[e.jsx(r,{className:"gutter-row",span:6,style:{textAlign:"center"},children:e.jsxs(h,{direction:"vertical",align:"center",children:[e.jsx(g,{shape:"square",size:50,src:s.head_image_home}),e.jsx(m,{type:"secondary",style:{fontSize:12},children:s.nickname_home})]})}),e.jsx(r,{className:"gutter-row",span:5,children:e.jsx(f,{disabled:i[s.id]===1,controls:!1,style:{width:"50px",height:"50px",fontSize:"24px"},min:0,max:20,defaultValue:s.home_goal,onBlur:a=>l({id:s.id,home_goal:a.target.value})})}),e.jsx(r,{className:"gutter-row",span:2,children:e.jsx(y,{style:{textAlign:"center"},level:2,children:"-"})}),e.jsx(r,{className:"gutter-row",span:5,children:e.jsx(f,{disabled:i[s.id]===1,controls:!1,style:{width:"50px",height:"50px",fontSize:"24px"},min:0,max:20,defaultValue:s.away_goal,onBlur:a=>l({id:s.id,away_goal:a.target.value})})}),e.jsx(r,{className:"gutter-row",span:6,style:{textAlign:"center"},children:e.jsxs(h,{direction:"vertical",align:"center",children:[e.jsx(g,{shape:"square",size:50,src:s.head_image_away}),e.jsx(m,{type:"secondary",style:{fontSize:12},children:s.nickname_away})]})})]})},s.id))})]})}))})]})]})}export{M as default};
