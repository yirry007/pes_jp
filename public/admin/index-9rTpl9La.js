import{r,g as X,m as K,a as Y,u as ce,aJ as de,C as V,Y as pe,$ as ge,a4 as q,c as T,ad as ue,aK as me,aL as ve,aM as fe,av as he,aN as ye,aO as Ce,b as Se,aP as xe,Q as be,X as J,K as Oe,a2 as Pe}from"./index-C9q2FBSY.js";import{u as $e}from"./SearchForm--fHSw7Ey.js";const G=r.createContext({}),ze=e=>{const{antCls:o,componentCls:n,iconCls:t,avatarBg:a,avatarColor:i,containerSize:g,containerSizeLG:u,containerSizeSM:l,textFontSize:c,textFontSizeLG:d,textFontSizeSM:C,borderRadius:m,borderRadiusLG:p,borderRadiusSM:b,lineWidth:S,lineType:B}=e,s=(O,x,k)=>({width:O,height:O,borderRadius:"50%",[`&${n}-square`]:{borderRadius:k},[`&${n}-icon`]:{fontSize:x,[`> ${t}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Y(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${ce(S)} ${B} transparent`,"&-image":{background:"transparent"},[`${o}-image-img`]:{display:"block"}}),s(g,c,m)),{"&-lg":Object.assign({},s(u,d,p)),"&-sm":Object.assign({},s(l,C,b)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},we=e=>{const{componentCls:o,groupBorderColor:n,groupOverlapping:t,groupSpace:a}=e;return{[`${o}-group`]:{display:"inline-flex",[o]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:t}},[`${o}-group-popover`]:{[`${o} + ${o}`]:{marginInlineStart:a}}}},Ee=e=>{const{controlHeight:o,controlHeightLG:n,controlHeightSM:t,fontSize:a,fontSizeLG:i,fontSizeXL:g,fontSizeHeading3:u,marginXS:l,marginXXS:c,colorBorderBg:d}=e;return{containerSize:o,containerSizeLG:n,containerSizeSM:t,textFontSize:Math.round((i+g)/2),textFontSizeLG:u,textFontSizeSM:a,groupSpace:c,groupOverlapping:-l,groupBorderColor:d}},Q=X("Avatar",e=>{const{colorTextLightSolid:o,colorTextPlaceholder:n}=e,t=K(e,{avatarBg:n,avatarColor:o});return[ze(t),we(t)]},Ee);var je=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const Ne=(e,o)=>{const[n,t]=r.useState(1),[a,i]=r.useState(!1),[g,u]=r.useState(!0),l=r.useRef(null),c=r.useRef(null),d=de(o,l),{getPrefixCls:C,avatar:m}=r.useContext(V),p=r.useContext(G),b=()=>{if(!c.current||!l.current)return;const f=c.current.offsetWidth,h=l.current.offsetWidth;if(f!==0&&h!==0){const{gap:N=4}=e;N*2<h&&t(h-N*2<f?(h-N*2)/f:1)}};r.useEffect(()=>{i(!0)},[]),r.useEffect(()=>{u(!0),t(1)},[e.src]),r.useEffect(b,[e.gap]);const S=()=>{const{onError:f}=e;(f==null?void 0:f())!==!1&&u(!1)},{prefixCls:B,shape:s,size:O,src:x,srcSet:k,icon:w,className:W,rootClassName:A,alt:M,draggable:E,children:z,crossOrigin:I}=e,P=je(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),v=pe(f=>{var h,N;return(N=(h=O??(p==null?void 0:p.size))!==null&&h!==void 0?h:f)!==null&&N!==void 0?N:"default"}),y=Object.keys(typeof v=="object"?v||{}:{}).some(f=>["xs","sm","md","lg","xl","xxl"].includes(f)),j=$e(y),R=r.useMemo(()=>{if(typeof v!="object")return{};const f=ge.find(N=>j[N]),h=v[f];return h?{width:h,height:h,fontSize:h&&(w||z)?h/2:18}:{}},[j,v]),$=C("avatar",B),F=q($),[oe,ne,re]=Q($,F),ae=T({[`${$}-lg`]:v==="large",[`${$}-sm`]:v==="small"}),H=r.isValidElement(x),se=s||(p==null?void 0:p.shape)||"circle",ie=T($,ae,m==null?void 0:m.className,`${$}-${se}`,{[`${$}-image`]:H||x&&g,[`${$}-icon`]:!!w},re,F,W,A,ne),le=typeof v=="number"?{width:v,height:v,fontSize:w?v/2:18}:{};let _;if(typeof x=="string"&&g)_=r.createElement("img",{src:x,draggable:E,srcSet:k,onError:S,alt:M,crossOrigin:I});else if(H)_=x;else if(w)_=w;else if(a||n!==1){const f=`scale(${n})`,h={msTransform:f,WebkitTransform:f,transform:f};_=r.createElement(ue,{onResize:b},r.createElement("span",{className:`${$}-string`,ref:c,style:Object.assign({},h)},z))}else _=r.createElement("span",{className:`${$}-string`,style:{opacity:0},ref:c},z);return delete P.onError,delete P.gap,oe(r.createElement("span",Object.assign({},P,{style:Object.assign(Object.assign(Object.assign(Object.assign({},le),R),m==null?void 0:m.style),P.style),className:ie,ref:d}),_))},U=r.forwardRef(Ne),L=e=>e?typeof e=="function"?e():e:null,Be=e=>{const{componentCls:o,popoverColor:n,titleMinWidth:t,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:g,colorTextHeading:u,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:d,colorBgElevated:C,popoverBg:m,titleBorderBottom:p,innerContentPadding:b,titlePadding:S}=e;return[{[o]:Object.assign(Object.assign({},Y(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":C,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${o}-content`]:{position:"relative"},[`${o}-inner`]:{backgroundColor:m,backgroundClip:"padding-box",borderRadius:l,boxShadow:g,padding:i},[`${o}-title`]:{minWidth:t,marginBottom:d,color:u,fontWeight:a,borderBottom:p,padding:S},[`${o}-inner-content`]:{color:n,padding:b}})},ve(e,"var(--antd-arrow-background-color)"),{[`${o}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${o}-content`]:{display:"inline-block"}}}]},ke=e=>{const{componentCls:o}=e;return{[o]:fe.map(n=>{const t=e[`${n}6`];return{[`&${o}-${n}`]:{"--antd-arrow-background-color":t,[`${o}-inner`]:{backgroundColor:t},[`${o}-arrow`]:{background:"transparent"}}}})}},Ie=e=>{const{lineWidth:o,controlHeight:n,fontHeight:t,padding:a,wireframe:i,zIndexPopupBase:g,borderRadiusLG:u,marginXS:l,lineType:c,colorSplit:d,paddingSM:C}=e,m=n-t,p=m/2,b=m/2-o,S=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:g+30},he(e)),ye({contentRadius:u,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:l,titlePadding:i?`${p}px ${S}px ${b}px`:0,titleBorderBottom:i?`${o}px ${c} ${d}`:"none",innerContentPadding:i?`${C}px ${S}px`:0})},Z=X("Popover",e=>{const{colorBgElevated:o,colorText:n}=e,t=K(e,{popoverBg:o,popoverColor:n});return[Be(t),ke(t),me(t,"zoom-big")]},Ie,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Re=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const ee=e=>{let{title:o,content:n,prefixCls:t}=e;return!o&&!n?null:r.createElement(r.Fragment,null,o&&r.createElement("div",{className:`${t}-title`},o),n&&r.createElement("div",{className:`${t}-inner-content`},n))},Te=e=>{const{hashId:o,prefixCls:n,className:t,style:a,placement:i="top",title:g,content:u,children:l}=e,c=L(g),d=L(u),C=T(o,n,`${n}-pure`,`${n}-placement-${i}`,t);return r.createElement("div",{className:C,style:a},r.createElement("div",{className:`${n}-arrow`}),r.createElement(Ce,Object.assign({},e,{className:o,prefixCls:n}),l||r.createElement(ee,{prefixCls:n,title:c,content:d})))},Me=e=>{const{prefixCls:o,className:n}=e,t=Re(e,["prefixCls","className"]),{getPrefixCls:a}=r.useContext(V),i=a("popover",o),[g,u,l]=Z(i);return g(r.createElement(Te,Object.assign({},t,{prefixCls:i,hashId:u,className:T(n,l)})))};var _e=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const We=r.forwardRef((e,o)=>{var n,t;const{prefixCls:a,title:i,content:g,overlayClassName:u,placement:l="top",trigger:c="hover",children:d,mouseEnterDelay:C=.1,mouseLeaveDelay:m=.1,onOpenChange:p,overlayStyle:b={}}=e,S=_e(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:B}=r.useContext(V),s=B("popover",a),[O,x,k]=Z(s),w=B(),W=T(u,x,k),[A,M]=Se(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),E=(y,j)=>{M(y,!0),p==null||p(y,j)},z=y=>{y.keyCode===Oe.ESC&&E(!1,y)},I=y=>{E(y)},P=L(i),v=L(g);return O(r.createElement(xe,Object.assign({placement:l,trigger:c,mouseEnterDelay:C,mouseLeaveDelay:m,overlayStyle:b},S,{prefixCls:s,overlayClassName:W,ref:o,open:A,onOpenChange:I,overlay:P||v?r.createElement(ee,{prefixCls:s,title:P,content:v}):null,transitionName:be(w,"zoom-big",S.transitionName),"data-popover-inject":!0}),J(d,{onKeyDown:y=>{var j,R;r.isValidElement(d)&&((R=d==null?void 0:(j=d.props).onKeyDown)===null||R===void 0||R.call(j,y)),z(y)}})))}),te=We;te._InternalPanelDoNotUseOrYouWillBeFired=Me;const D=e=>{const{size:o,shape:n}=r.useContext(G),t=r.useMemo(()=>({size:e.size||o,shape:e.shape||n}),[e.size,e.shape,o,n]);return r.createElement(G.Provider,{value:t},e.children)},Ae=e=>{var o,n,t;const{getPrefixCls:a,direction:i}=r.useContext(V),{prefixCls:g,className:u,rootClassName:l,style:c,maxCount:d,maxStyle:C,size:m,shape:p,maxPopoverPlacement:b,maxPopoverTrigger:S,children:B,max:s}=e,O=a("avatar",g),x=`${O}-group`,k=q(O),[w,W,A]=Q(O,k),M=T(x,{[`${x}-rtl`]:i==="rtl"},A,k,u,l,W),E=Pe(B).map((P,v)=>J(P,{key:`avatar-key-${v}`})),z=(s==null?void 0:s.count)||d,I=E.length;if(z&&z<I){const P=E.slice(0,z),v=E.slice(z,I),y=(s==null?void 0:s.style)||C,j=((o=s==null?void 0:s.popover)===null||o===void 0?void 0:o.trigger)||S||"hover",R=((n=s==null?void 0:s.popover)===null||n===void 0?void 0:n.placement)||b||"top",$=Object.assign(Object.assign({content:v},s==null?void 0:s.popover),{overlayClassName:T(`${x}-popover`,(t=s==null?void 0:s.popover)===null||t===void 0?void 0:t.overlayClassName),placement:R,trigger:j});return P.push(r.createElement(te,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},$),r.createElement(U,{style:y},`+${I-z}`))),w(r.createElement(D,{shape:p,size:m},r.createElement("div",{className:M,style:c},P)))}return w(r.createElement(D,{shape:p,size:m},r.createElement("div",{className:M,style:c},E)))},Le=U;Le.Group=Ae;export{Le as A};
