import{r as a,_ as Ae,q as He,t as oe,c as N,v as me,w as Ke,x as fe,y as pe,z as R,A as xe,K as de,D as be,P as Fe,C as he,E as We,G as ye,H as Be,g as Ve,m as Ue,u as Y,J as Xe,L as qe,M as Ge,N as Ye,O as Je,Q as we,e as Ze,j as s,h as J,I as ue,o as Qe,S as et,B as tt}from"./index-C9q2FBSY.js";import{u as at}from"./index-BtVQP8yc.js";import{S as nt}from"./SearchForm--fHSw7Ey.js";import{C as Ce}from"./index-pw3sry7n.js";import{A as ve}from"./index-9rTpl9La.js";import{D as ot,a as rt}from"./index-BdVQ0fKq.js";import{T as Se}from"./index-CTwM5QEi.js";import{F as st}from"./Table-Aik4FbcR.js";import"./index-BfF7_6j9.js";import"./useIcons-B3ELihdy.js";var ke=a.createContext(null),Oe=a.createContext({}),it=["prefixCls","className","containerRef"],lt=function(t){var o=t.prefixCls,n=t.className,r=t.containerRef,c=Ae(t,it),d=a.useContext(Oe),i=d.panel,u=He(i,r);return a.createElement("div",oe({className:N("".concat(o,"-content"),n),role:"dialog",ref:u},me(t,{aria:!0}),{"aria-modal":"true"},c))};function je(e){return typeof e=="string"&&String(Number(e))===e?(Ke(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Ne={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function ct(e,t){var o,n,r,c=e.prefixCls,d=e.open,i=e.placement,u=e.inline,m=e.push,g=e.forceRender,v=e.autoFocus,w=e.keyboard,f=e.classNames,x=e.rootClassName,l=e.rootStyle,E=e.zIndex,I=e.className,P=e.id,O=e.style,k=e.motion,y=e.width,C=e.height,S=e.children,$=e.mask,L=e.maskClosable,_=e.maskMotion,Z=e.maskClassName,B=e.maskStyle,A=e.afterOpenChange,T=e.onClose,H=e.onMouseEnter,Q=e.onMouseOver,ee=e.onMouseLeave,V=e.onClick,te=e.onKeyDown,ae=e.onKeyUp,p=e.styles,M=e.drawerRender,D=a.useRef(),z=a.useRef(),K=a.useRef();a.useImperativeHandle(t,function(){return D.current});var re=function(j){var X=j.keyCode,q=j.shiftKey;switch(X){case de.TAB:{if(X===de.TAB){if(!q&&document.activeElement===K.current){var G;(G=z.current)===null||G===void 0||G.focus({preventScroll:!0})}else if(q&&document.activeElement===z.current){var ce;(ce=K.current)===null||ce===void 0||ce.focus({preventScroll:!0})}}break}case de.ESC:{T&&w&&(j.stopPropagation(),T(j));break}}};a.useEffect(function(){if(d&&v){var h;(h=D.current)===null||h===void 0||h.focus({preventScroll:!0})}},[d]);var se=a.useState(!1),ie=fe(se,2),ne=ie[0],U=ie[1],b=a.useContext(ke),le;typeof m=="boolean"?le=m?{}:{distance:0}:le=m||{};var F=(o=(n=(r=le)===null||r===void 0?void 0:r.distance)!==null&&n!==void 0?n:b==null?void 0:b.pushDistance)!==null&&o!==void 0?o:180,Re=a.useMemo(function(){return{pushDistance:F,push:function(){U(!0)},pull:function(){U(!1)}}},[F]);a.useEffect(function(){if(d){var h;b==null||(h=b.push)===null||h===void 0||h.call(b)}else{var j;b==null||(j=b.pull)===null||j===void 0||j.call(b)}},[d]),a.useEffect(function(){return function(){var h;b==null||(h=b.pull)===null||h===void 0||h.call(b)}},[]);var Me=$&&a.createElement(pe,oe({key:"mask"},_,{visible:d}),function(h,j){var X=h.className,q=h.style;return a.createElement("div",{className:N("".concat(c,"-mask"),X,f==null?void 0:f.mask,Z),style:R(R(R({},q),B),p==null?void 0:p.mask),onClick:L&&d?T:void 0,ref:j})}),ze=typeof k=="function"?k(i):k,W={};if(ne&&F)switch(i){case"top":W.transform="translateY(".concat(F,"px)");break;case"bottom":W.transform="translateY(".concat(-F,"px)");break;case"left":W.transform="translateX(".concat(F,"px)");break;default:W.transform="translateX(".concat(-F,"px)");break}i==="left"||i==="right"?W.width=je(y):W.height=je(C);var Le={onMouseEnter:H,onMouseOver:Q,onMouseLeave:ee,onClick:V,onKeyDown:te,onKeyUp:ae},Te=a.createElement(pe,oe({key:"panel"},ze,{visible:d,forceRender:g,onVisibleChanged:function(j){A==null||A(j)},removeOnLeave:!1,leavedClassName:"".concat(c,"-content-wrapper-hidden")}),function(h,j){var X=h.className,q=h.style,G=a.createElement(lt,oe({id:P,containerRef:j,prefixCls:c,className:N(I,f==null?void 0:f.content),style:R(R({},O),p==null?void 0:p.content)},me(e,{aria:!0}),Le),S);return a.createElement("div",oe({className:N("".concat(c,"-content-wrapper"),f==null?void 0:f.wrapper,X),style:R(R(R({},W),q),p==null?void 0:p.wrapper)},me(e,{data:!0})),M?M(G):G)}),ge=R({},l);return E&&(ge.zIndex=E),a.createElement(ke.Provider,{value:Re},a.createElement("div",{className:N(c,"".concat(c,"-").concat(i),x,xe(xe({},"".concat(c,"-open"),d),"".concat(c,"-inline"),u)),style:ge,tabIndex:-1,ref:D,onKeyDown:re},Me,a.createElement("div",{tabIndex:0,ref:z,style:Ne,"aria-hidden":"true","data-sentinel":"start"}),Te,a.createElement("div",{tabIndex:0,ref:K,style:Ne,"aria-hidden":"true","data-sentinel":"end"})))}var dt=a.forwardRef(ct),ut=function(t){var o=t.open,n=o===void 0?!1:o,r=t.prefixCls,c=r===void 0?"rc-drawer":r,d=t.placement,i=d===void 0?"right":d,u=t.autoFocus,m=u===void 0?!0:u,g=t.keyboard,v=g===void 0?!0:g,w=t.width,f=w===void 0?378:w,x=t.mask,l=x===void 0?!0:x,E=t.maskClosable,I=E===void 0?!0:E,P=t.getContainer,O=t.forceRender,k=t.afterOpenChange,y=t.destroyOnClose,C=t.onMouseEnter,S=t.onMouseOver,$=t.onMouseLeave,L=t.onClick,_=t.onKeyDown,Z=t.onKeyUp,B=t.panelRef,A=a.useState(!1),T=fe(A,2),H=T[0],Q=T[1],ee=a.useState(!1),V=fe(ee,2),te=V[0],ae=V[1];be(function(){ae(!0)},[]);var p=te?n:!1,M=a.useRef(),D=a.useRef();be(function(){p&&(D.current=document.activeElement)},[p]);var z=function(ne){var U;if(Q(ne),k==null||k(ne),!ne&&D.current&&!((U=M.current)!==null&&U!==void 0&&U.contains(D.current))){var b;(b=D.current)===null||b===void 0||b.focus({preventScroll:!0})}},K=a.useMemo(function(){return{panel:B}},[B]);if(!O&&!H&&!p&&y)return null;var re={onMouseEnter:C,onMouseOver:S,onMouseLeave:$,onClick:L,onKeyDown:_,onKeyUp:Z},se=R(R({},t),{},{open:p,prefixCls:c,placement:i,autoFocus:m,keyboard:v,width:f,mask:l,maskClosable:I,inline:P===!1,afterOpenChange:z,ref:M},re);return a.createElement(Oe.Provider,{value:K},a.createElement(Fe,{open:p||O||H,autoDestroy:!1,getContainer:P,autoLock:l&&(p||H)},a.createElement(dt,se)))};const $e=e=>{var t,o;const{prefixCls:n,title:r,footer:c,extra:d,loading:i,onClose:u,headerStyle:m,bodyStyle:g,footerStyle:v,children:w,classNames:f,styles:x}=e,{drawer:l}=a.useContext(he),E=a.useCallback(y=>a.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:`${n}-close`},y),[u]),[I,P]=We(ye(e),ye(l),{closable:!0,closeIconRender:E}),O=a.useMemo(()=>{var y,C;return!r&&!I?null:a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(y=l==null?void 0:l.styles)===null||y===void 0?void 0:y.header),m),x==null?void 0:x.header),className:N(`${n}-header`,{[`${n}-header-close-only`]:I&&!r&&!d},(C=l==null?void 0:l.classNames)===null||C===void 0?void 0:C.header,f==null?void 0:f.header)},a.createElement("div",{className:`${n}-header-title`},P,r&&a.createElement("div",{className:`${n}-title`},r)),d&&a.createElement("div",{className:`${n}-extra`},d))},[I,P,d,m,n,r]),k=a.useMemo(()=>{var y,C;if(!c)return null;const S=`${n}-footer`;return a.createElement("div",{className:N(S,(y=l==null?void 0:l.classNames)===null||y===void 0?void 0:y.footer,f==null?void 0:f.footer),style:Object.assign(Object.assign(Object.assign({},(C=l==null?void 0:l.styles)===null||C===void 0?void 0:C.footer),v),x==null?void 0:x.footer)},c)},[c,v,n]);return a.createElement(a.Fragment,null,O,a.createElement("div",{className:N(`${n}-body`,f==null?void 0:f.body,(t=l==null?void 0:l.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(o=l==null?void 0:l.styles)===null||o===void 0?void 0:o.body),g),x==null?void 0:x.body)},i?a.createElement(Be,{active:!0,title:!1,paragraph:{rows:5},className:`${n}-body-skeleton`}):w),k)},mt=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},De=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),Ee=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},De({opacity:e},{opacity:1})),ft=(e,t)=>[Ee(.7,t),De({transform:mt(e)},{transform:"none"})],vt=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:Ee(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((n,r)=>Object.assign(Object.assign({},n),{[`&-${r}`]:ft(r,o)}),{})}}},ht=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:n,colorBgMask:r,colorBgElevated:c,motionDurationSlow:d,motionDurationMid:i,paddingXS:u,padding:m,paddingLG:g,fontSizeLG:v,lineHeightLG:w,lineWidth:f,lineType:x,colorSplit:l,marginXS:E,colorIcon:I,colorIconHover:P,colorBgTextHover:O,colorBgTextActive:k,colorText:y,fontWeightStrong:C,footerPaddingBlock:S,footerPaddingInline:$,calc:L}=e,_=`${o}-content-wrapper`;return{[o]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none",color:y,"&-pure":{position:"relative",background:c,display:"flex",flexDirection:"column",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:n,background:r,pointerEvents:"auto"},[_]:{position:"absolute",zIndex:n,maxWidth:"100vw",transition:`all ${d}`,"&-hidden":{display:"none"}},[`&-left > ${_}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${_}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${_}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${_}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:c,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Y(m)} ${Y(g)}`,fontSize:v,lineHeight:w,borderBottom:`${Y(f)} ${x} ${l}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:Object.assign({display:"inline-flex",width:L(v).add(u).equal(),height:L(v).add(u).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:E,color:I,fontWeight:C,fontSize:v,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${i}`,textRendering:"auto","&:hover":{color:P,backgroundColor:O,textDecoration:"none"},"&:active":{backgroundColor:k}},Xe(e)),[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:v,lineHeight:w},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:g,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${Y(S)} ${Y($)}`,borderTop:`${Y(f)} ${x} ${l}`},"&-rtl":{direction:"rtl"}}}},gt=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Ie=Ve("Drawer",e=>{const t=Ue(e,{});return[ht(t),vt(t)]},gt);var Pe=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const pt={distance:180},_e=e=>{const{rootClassName:t,width:o,height:n,size:r="default",mask:c=!0,push:d=pt,open:i,afterOpenChange:u,onClose:m,prefixCls:g,getContainer:v,style:w,className:f,visible:x,afterVisibleChange:l,maskStyle:E,drawerStyle:I,contentWrapperStyle:P}=e,O=Pe(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:k,getPrefixCls:y,direction:C,drawer:S}=a.useContext(he),$=y("drawer",g),[L,_,Z]=Ie($),B=v===void 0&&k?()=>k(document.body):v,A=N({"no-mask":!c,[`${$}-rtl`]:C==="rtl"},t,_,Z),T=a.useMemo(()=>o??(r==="large"?736:378),[o,r]),H=a.useMemo(()=>n??(r==="large"?736:378),[n,r]),Q={motionName:we($,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ee=K=>({motionName:we($,`panel-motion-${K}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),V=qe(),[te,ae]=Ge("Drawer",O.zIndex),{classNames:p={},styles:M={}}=O,{classNames:D={},styles:z={}}=S||{};return L(a.createElement(Ye,{form:!0,space:!0},a.createElement(Je.Provider,{value:ae},a.createElement(ut,Object.assign({prefixCls:$,onClose:m,maskMotion:Q,motion:ee},O,{classNames:{mask:N(p.mask,D.mask),content:N(p.content,D.content),wrapper:N(p.wrapper,D.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},M.mask),E),z.mask),content:Object.assign(Object.assign(Object.assign({},M.content),I),z.content),wrapper:Object.assign(Object.assign(Object.assign({},M.wrapper),P),z.wrapper)},open:i??x,mask:c,push:d,width:T,height:H,style:Object.assign(Object.assign({},S==null?void 0:S.style),w),className:N(S==null?void 0:S.className,f),rootClassName:A,getContainer:B,afterOpenChange:u??l,panelRef:V,zIndex:te}),a.createElement($e,Object.assign({prefixCls:$},O,{onClose:m}))))))},xt=e=>{const{prefixCls:t,style:o,className:n,placement:r="right"}=e,c=Pe(e,["prefixCls","style","className","placement"]),{getPrefixCls:d}=a.useContext(he),i=d("drawer",t),[u,m,g]=Ie(i),v=N(i,`${i}-pure`,`${i}-${r}`,m,g,n);return u(a.createElement("div",{className:v,style:o},a.createElement($e,Object.assign({prefixCls:i},c))))};_e._InternalPanelDoNotUseOrYouWillBeFired=xt;const bt={getPlayerList(e){return Ze.get("/admin/player",e)}},yt=e=>{const[t,o]=a.useState(!1),[n,r]=a.useState(),[c,d]=a.useState([]);a.useImperativeHandle(e.mRef,()=>({open:i}));const i=(u,m)=>{console.log(u),r(m),o(!0);const g=[];for(let v in m)if(!["id","user_id","code","name","headimg","nation_abbr","point","images","status","image_url","nation_image"].includes(v)){if(v==="data"){for(let w in m[v])g.push({key:w,label:w,children:s.jsx("div",{style:{width:"100%",textAlign:"right"},children:m[v][w]}),span:3});continue}g.push({key:v,label:v,children:s.jsx("div",{style:{width:"100%",textAlign:"right"},children:m[v]}),span:3})}d(g)};return s.jsxs(_e,{title:"球员资料",onClose:()=>o(!1),open:t,children:[s.jsx(Ce,{children:s.jsx(Ce.Meta,{avatar:s.jsx(ve,{src:n==null?void 0:n.image_url,size:60}),title:n==null?void 0:n.name_en,description:s.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[s.jsx("img",{width:24,src:n==null?void 0:n.nation_image,alt:""}),s.jsx("p",{style:{marginLeft:"10px"},children:n==null?void 0:n.nation})]})})}),s.jsx(ot,{}),s.jsx(rt,{title:!1,items:c})]})};function It(){const[e]=J.useForm(),t=a.useRef(),o=({current:i,pageSize:u},m)=>bt.getPlayerList({...m,pageNum:i,pageSize:u}).then(g=>({total:g.page.total,list:g.list})),{tableProps:n,search:r}=at(o,{form:e,defaultPageSize:10}),c=i=>{var m;const u=JSON.parse(i.data);(m=t.current)==null||m.open("detail",{...i,data:u})},d=[{title:"头像",dataIndex:"image_url",key:"image_url",width:50,render(i){return i?s.jsx(ve,{shape:"square",size:48,src:i}):s.jsx(ve,{shape:"square",size:48,icon:s.jsx(Qe,{})})}},{title:"姓名",dataIndex:"name_en",key:"name_en",width:100},{title:"国籍",dataIndex:"nation_abbr",key:"nation_abbr",width:60,render(i,u){return s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("img",{width:30,src:u.nation_image,alt:""})}),s.jsx("div",{children:i})]})}},{title:"年龄",dataIndex:"age",key:"age",width:60},{title:"身高cm",dataIndex:"height",key:"height",width:70},{title:"体重kg",dataIndex:"weight",key:"weight",width:70},{title:"位置",dataIndex:"position",key:"position",width:70},{title:"惯用脚",dataIndex:"strong_foot",key:"strong_foot",width:80},{title:"评分",dataIndex:"rating",key:"rating",width:70},{title:"操作",key:"operations",width:80,render(i){return s.jsx(et,{children:s.jsx(tt,{type:"text",onClick:()=>c(i),children:"详细"})})}}];return s.jsxs("div",{children:[s.jsxs(nt,{form:e,initialValues:{state:1},submit:r.submit,reset:r.reset,children:[s.jsx(J.Item,{name:"name",label:"姓名",children:s.jsx(ue,{placeholder:"请输入球员姓名"})}),s.jsx(J.Item,{name:"nation",label:"国籍",children:s.jsx(ue,{placeholder:"请输入球员国籍"})}),s.jsx(J.Item,{name:"position",label:"位置",children:s.jsx(ue,{placeholder:"请输入球员位置"})}),s.jsx(J.Item,{name:"rating_start",label:"评分范围",children:s.jsx(Se,{placeholder:"请输入评分范围（低）"})}),s.jsx(J.Item,{name:"rating_end",label:"评分范围",children:s.jsx(Se,{placeholder:"请输入评分范围(高)"})})]}),s.jsxs("div",{className:"base-table",children:[s.jsx("div",{className:"header-wrapper",children:s.jsx("div",{className:"title",children:"球员列表"})}),s.jsx(st,{bordered:!0,rowKey:"code",columns:d,...n})]}),s.jsx(yt,{mRef:t,update:()=>{r.reset()}})]})}export{It as default};
